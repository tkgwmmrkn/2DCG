<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>MPM-APDIインプット作成</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
	<link rel="stylesheet" href="main.css">
</head>
<body class="darkmode">
	<div class="container pb-4">
		<h1 class="mt-4 mb-4">MPM-APDIインプット作成</h1>
		<div id="alertbox"></div>
		<div class="purple mb-3">
			<div class="custom-control custom-switch">
				<input type="checkbox" class="custom-control-input pointer" id="darkmode_switch" checked>
				<label class="custom-control-label pointer" for="darkmode_switch">ダークモードをONにする</label>
			</div>
		</div>
		<div class="row purple">
			<div class="pointer col-sm col-sm-4 pt-1 acol hover-purple" id="toggler-pref">
				<div title="設定">
					<div class="inline-block">設定</div>
					<svg height="40" viewBox="0 0 16 16" class="bi bi-plus" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
					</svg>
					<svg height="40" viewBox="0 0 16 16" class="bi bi-minus hidden" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
					</svg>
				</div>
			</div>
		</div>
		<div class="row purple">
			<div class="pointer col-sm pt-1 acol hover-purple" id="toggler-addMP-fromXY">
				<div title="マテリアルポイント追加" >
					<div class="inline-block">粒子座標からMP追加</div>
					<svg height="40" viewBox="0 0 16 16" class="bi bi-plus" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
					</svg>
					<svg height="40" viewBox="0 0 16 16" class="bi bi-minus hidden" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
					</svg>
				</div>
			</div>
			<div class="pointer col-sm pt-1 acol hover-purple" id="toggler-addMP-fromGrid">
				<div title="マテリアルポイント追加" >
					<div class="inline-block">格子情報からMP追加</div>
					<svg height="40" viewBox="0 0 16 16" class="bi bi-plus" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
					</svg>
					<svg height="40" viewBox="0 0 16 16" class="bi bi-minus hidden" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
					</svg>
				</div>
			</div>
			<div class="pointer col-sm pt-1 acol hover-purple" id="toggler-addNCOND">
				<div title="境界条件追加" >
					<div class="inline-block">境界条件追加</div>
					<svg height="40" viewBox="0 0 16 16" class="bi bi-plus" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
					</svg>
					<svg height="40" viewBox="0 0 16 16" class="bi bi-minus hidden" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
					</svg>
				</div>
			</div>
		</div>
		<div class="row purple">
			<div class="pointer col-sm pt-1 acol hover-purple" id="toggler-addAPDI">
				<div title="APDI要素を追加 (正方形)" >
					<div class="inline-block">APDIを追加 (正方形要素)</div>
					<svg height="40" viewBox="0 0 16 16" class="bi bi-plus" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
					</svg>
					<svg height="40" viewBox="0 0 16 16" class="bi bi-minus hidden" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
					</svg>
				</div>
			</div>
			<div class="pointer col-sm pt-1 acol hover-purple" id="toggler-addAPDIxbuffer">
				<div title="APDIを追加 (縦長バッファー要素)" >
					<div class="inline-block">APDIを追加 (縦長バッファー要素)</div>
					<svg height="40" viewBox="0 0 16 16" class="bi bi-plus" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
					</svg>
					<svg height="40" viewBox="0 0 16 16" class="bi bi-minus hidden" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
					</svg>
				</div>
			</div>
			<div class="pointer col-sm pt-1 acol hover-purple" id="toggler-addAPDIybuffer">
				<div title="APDIを追加 (横長バッファー要素)" >
					<div class="inline-block"><!--APDIを追加 (横長バッファー要素)　-->未実装</div>
					<svg height="40" viewBox="0 0 16 16" class="bi bi-plus" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
					</svg>
					<svg height="40" viewBox="0 0 16 16" class="bi bi-minus hidden" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
					</svg>
				</div>
			</div>
		</div>
		<div id="toggle-pref" class="hidden">
			<div class="purple row mt-4">
				<div class="col-sm acol pt-2">
					<div class="mb-2">格子設定</div>
				</div>
				<div class="col-sm acol pt-2">
					<div class="mb-2">-</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm pt-3 pb-3 acol">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">計算格子幅</span>
						</div>
						<input type="text" class="form-control" placeholder="例：1" id="pref_grid">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">計算領域 辺長</span>
						</div>
						<input type="text" class="form-control" placeholder="例：36.0" id="pref_x">
						<input type="text" class="form-control" placeholder="例：27.0" id="pref_y">
					</div>
				</div>
				<div class="col-sm pt-3 pb-3 acol">
				</div>
			</div>
		</div>
		<div id="toggle-addMP-fromXY" class="hidden">
			<div class="purple row mt-4">
				<div class="col-sm acol pt-2">
					<div class="mb-2">粒子座標からMP追加</div>
				</div>
				<div class="col-sm acol pt-2">
					<div class="mb-2">追加されているMP</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm pt-3 pb-3 acol">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">材料番号</span>
						</div>
						<input type="text" class="form-control" placeholder="例：1" id="MPmat-fromXY">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">始点XY</span>
						</div>
						<input type="text" class="form-control" placeholder="例：0.25" id="MPx1-fromXY">
						<input type="text" class="form-control" placeholder="例：0.25" id="MPy1-fromXY">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">終点XY</span>
						</div>
						<input type="text" class="form-control" placeholder="例：11.75" id="MPx2-fromXY">
						<input type="text" class="form-control" placeholder="例：26.75" id="MPy2-fromXY">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">間隔</span>
						</div>
						<input type="text" class="form-control" placeholder="例：0.50" id="MPinterval-fromXY">
					</div>
					<input class="btn btn-outline-primary" type="button" value="適用" id="submit-addMP-fromXY">
				</div>
				<div class="col-sm pt-3 pb-3 acol" id="pastinput-addMP-fromXY">
				</div>
			</div>
		</div>
		<div id="toggle-addMP-fromGrid" class="hidden">
			<div class="purple row mt-4">
				<div class="col-sm acol pt-2">
					<div class="mb-2">格子情報からMPを追加</div>
				</div>
				<div class="col-sm acol pt-2">
					<div class="mb-2">追加されているMP</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm pt-3 pb-3 acol">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep2">材料番号</span>
						</div>
						<input type="text" class="form-control" placeholder="例：1" id="MPmat-fromGrid">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep2">格子の始点XY</span>
						</div>
						<input type="text" class="form-control" placeholder="例：0.00" id="MPx1-fromGrid">
						<input type="text" class="form-control" placeholder="例：0.00" id="MPy1-fromGrid">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep2">格子の終点XY</span>
						</div>
						<input type="text" class="form-control" placeholder="例：12.00" id="MPx2-fromGrid">
						<input type="text" class="form-control" placeholder="例：27.00" id="MPy2-fromGrid">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep2">格子幅</span>
						</div>
						<input type="text" class="form-control" placeholder="例：1.0" id="MPgridWidth-fromGrid">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep2">格子内MP数</span>
						</div>
						<input type="text" class="form-control" placeholder="例：4" id="MPnumInGrid-fromGrid">
					</div>
					<div class="form-inline mb-3">
						<div class="custom-control custom-checkbox ml-2 my-1">
							<input type="checkbox" class="custom-control-input pointer" id="lb-mp-fromgrid">
							<label class="custom-control-label pointer purple" for="lb-mp-fromgrid">左下三角</label>
						</div>
						<div class="custom-control custom-checkbox ml-3 my-1">
							<input type="checkbox" class="custom-control-input pointer" id="rb-mp-fromgrid">
							<label class="custom-control-label pointer purple" for="rb-mp-fromgrid">右下三角</label>
						</div>
						<div class="custom-control custom-checkbox ml-3 my-1">
							<input type="checkbox" class="custom-control-input pointer" id="lt-mp-fromgrid">
							<label class="custom-control-label pointer purple" for="lt-mp-fromgrid">左上三角</label>
						</div>
						<div class="custom-control custom-checkbox ml-3 my-1">
							<input type="checkbox" class="custom-control-input pointer" id="rt-mp-fromgrid">
							<label class="custom-control-label pointer purple" for="rt-mp-fromgrid">右上三角</label>
						</div>
					</div>
					<input class="btn btn-outline-primary" type="button" value="適用" id="submit-addMP-fromGrid">
				</div>
				<div class="col-sm pt-3 pb-3 acol" id="pastinput-addMP-fromGrid">
				</div>
			</div>
		</div>
		<div id="toggle-addNCOND" class="hidden">
			<div class="purple row mt-4">
				<div class="col-sm acol pt-2">
					<div class="mb-2">境界条件の追加</div>
				</div>
				<div class="col-sm acol pt-2">
					<div class="mb-2">追加されているMP</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm pt-3 pb-3 acol">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text">始点XY</span>
						</div>
						<input type="text" class="form-control" placeholder="例：1.00" id="ncond_x1">
						<input type="text" class="form-control" placeholder="例：1.00" id="ncond_y1">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text">終点XY</span>
						</div>
						<input type="text" class="form-control" placeholder="例：1.00" id="ncond_x2">
						<input type="text" class="form-control" placeholder="例：26.00" id="ncond_y2">
					</div>
					<div>
						<input type="radio" value="sncond_x" name="sncond_fix" id="sncond_x">
						<label class="pointer" for="sncond_x">X固定</label>
						<input class="ml-3" type="radio" value="sncond_y" name="sncond_fix" id="sncond_y">
						<label class="pointer" for="sncond_y">Y固定</label>
						<input class="ml-3" type="radio" value="sncond_xy" name="sncond_fix" id="sncond_xy">
						<label class="pointer" for="sncond_xy">XY固定</label>
					</div>
					<input class="btn btn-outline-primary" type="button" value="適用" id="submit-addNCOND">
				</div>
				<div class="col-sm pt-3 pb-3 acol" id="pastinput-addNCOND"></div>
			</div>
		</div>
		
		<div id="toggle-addAPDI" class="hidden">
			<div class="purple row mt-4">
				<div class="col-sm acol pt-2">
					<div class="mb-2">APDIの追加 (正方形要素)</div>
				</div>
				<div class="col-sm acol pt-2">
					<div class="mb-2">追加されているMP</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm pt-3 pb-3 acol">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">材料番号</span>
						</div>
						<input type="text" class="form-control" placeholder="例：1" id="apdi_mm">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">始点XY</span>
						</div>
						<input type="text" class="form-control" placeholder="例：1.00" id="apdi_x1">
						<input type="text" class="form-control" placeholder="例：2.00" id="apdi_y1">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">終点XY</span>
						</div>
						<input type="text" class="form-control" placeholder="例：11.00" id="apdi_x2">
						<input type="text" class="form-control" placeholder="例：18.00" id="apdi_y2">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">要素幅</span>
						</div>
						<input type="text" class="form-control" placeholder="例：0.40" id="APDIgridWidth">
					</div>
					<input class="btn btn-outline-primary" type="button" value="適用" id="submit-addAPDI">
				</div>
				<div class="col-sm pt-3 pb-3 acol" id="pastinput-addAPDI"></div>
			</div>
		</div>
		
		<div id="toggle-addAPDIxbuffer" class="hidden">
			<div class="purple row mt-4">
				<div class="col-sm acol pt-2">
					<div class="mb-2">APDIを追加 (縦長バッファー要素)</div>
				</div>
				<div class="col-sm acol pt-2">
					<div class="mb-2">追加されているMP</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm pt-3 pb-3 acol">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">材料番号</span>
						</div>
						<input type="text" class="form-control" placeholder="例：1" id="apdibx_mm">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">始点XY</span>
						</div>
						<input type="text" class="form-control" placeholder="例：1.00" id="apdibx_x1">
						<input type="text" class="form-control" placeholder="例：2.00" id="apdibx_y1">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">終点XY</span>
						</div>
						<input type="text" class="form-control" placeholder="例：11.00" id="apdibx_x2">
						<input type="text" class="form-control" placeholder="例：18.00" id="apdibx_y2">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">左側要素の要素幅</span>
						</div>
						<input type="text" class="form-control" placeholder="例：0.40" id="APDIgridWidthbxleft">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">右側要素の要素幅</span>
						</div>
						<input type="text" class="form-control" placeholder="例：0.40" id="APDIgridWidthbxright">
					</div>
					<input class="btn btn-outline-primary" type="button" value="適用" id="submit-addAPDIxbuffer">
				</div>
				<div class="col-sm pt-3 acol" id="pastinput-addAPDIxbuffer"></div>
			</div>
		</div>
		
		<div id="toggle-addAPDIybuffer" class="hidden">
			<div class="purple row mt-4">
				<div class="col-sm acol pt-2">
					<div class="mb-2">APDIを追加 (横長バッファー要素)</div>
				</div>
				<div class="col-sm acol pt-2">
					<div class="mb-2">追加されているMP</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm pt-3 pb-3 acol">
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">材料番号</span>
						</div>
						<input type="text" class="form-control" placeholder="例：1" id="apdiby_mm">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">始点XY</span>
						</div>
						<input type="text" class="form-control" placeholder="例：1.00" id="apdiby_x1">
						<input type="text" class="form-control" placeholder="例：2.00" id="apdiby_y1">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">終点XY</span>
						</div>
						<input type="text" class="form-control" placeholder="例：11.00" id="apdiby_x2">
						<input type="text" class="form-control" placeholder="例：18.00" id="apdiby_y2">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">上側要素の要素幅</span>
						</div>
						<input type="text" class="form-control" placeholder="例：0.40" id="APDIgridWidthbytop">
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text prep1">下側要素の要素幅</span>
						</div>
						<input type="text" class="form-control" placeholder="例：0.40" id="APDIgridWidthbybottom">
					</div>
					<input class="btn btn-outline-primary" type="button" value="適用" id="submit-addAPDIybuffer">
				</div>
				<div class="col-sm pt-3 acol pb-3" id="pastinput-addAPDIybuffer"></div>
			</div>
		</div>
		
		<div class="mt-4 mb-4 row">
			<div class="col">
				<div class="purple bold mb-2">マテリアルポイント(input_mp.dat) 内容</div>
				<textarea class="form-control height-200 mono" placeholder="ファイル内容はここに表示されます" id="filecontent" onclick="this.focus();this.select()" readonly="readonly"></textarea>
				<input class="btn btn-outline-primary mt-2" type="button" value="input_mp.datを保存" id="savefile">
			</div>
			<div class="col">
				<div class="purple bold mb-2">APDI入力ファイル(input_apdi.dat) 内容</div>
				<textarea class="form-control height-200 mono" placeholder="ファイル内容はここに表示されます" id="filecontent_apdi" onclick="this.focus();this.select()" readonly="readonly" wrap="off"></textarea>
				<input class="btn btn-outline-primary mt-2" type="button" value="input_apdi.datを保存" id="saveapdifile">
			</div>
		</div>
		
		<div class="mt-4 mb-4 row">
			<div class="col">
				<div class="purple mb-2 bold">境界条件(config.datの一部) 内容</div>
				<textarea class="form-control height-150 mono" placeholder="ファイル内容はここに表示されます" id="filecontent_sncond" onclick="this.focus();this.select()" readonly="readonly"></textarea>
			</div>
			<div class="col"></div>
		</div>
		
		<div class="height-30"></div>
		
		<div class="mt-4 mb-4 row">
			<div class="p-3 mr-2 purple-border col">
				<div class="purple bold">プレビュー設定</div>
				<div class="form-inline ml-2">
					<label class="purple mt-2 my-1">MP円の半径 :<input type="number" class="form-control ml-2 mr-2 mw-80" value="1" id="mp_radius">px</label>
					<div class="custom-control custom-checkbox ml-4 my-1">
						<input type="checkbox" class="custom-control-input pointer" id="auto_mp_rad">
						<label class="custom-control-label pointer purple" for="auto_mp_rad">自動設定</label>
					</div>
				</div>
				<div class="form-inline ml-2">
					<label class="purple mt-1">境界線の太さ :<input type="number" class="form-control ml-2 mr-2 mw-80" value="1" id="line_width">px</label>
					<div class="custom-control custom-checkbox ml-4 my-1">
						<input type="checkbox" class="custom-control-input pointer" id="auto_line_width">
						<label class="custom-control-label pointer purple" for="auto_line_width">自動設定</label>
					</div>
				</div>
				<div class="form-inline ml-2">
					<label class="purple mt-1">SVG画像拡大倍率 :<input type="text" class="form-control ml-2 mr-2 mw-80" value="100" id="svg_width">%</label>
				</div>
				<div class="form-inline ml-2">
					<label class="purple mt-1">SVGキャンパス横幅 :<input type="number" class="form-control ml-2 mr-2 mw-80" value="1000" id="svg_reso">px</label>
				</div>
				<div class="form-inline ml-2">
					<label class="purple mt-1">境界条件表示の三角 :<input type="number" class="form-control ml-2 mr-2 mw-80" value="40" id="svg_bound">px</label>
				</div>
				<div class="form-inline ml-2">
					<label class="purple mt-1">ID表示 :</label>
					
					<div class="custom-control custom-checkbox ml-2 my-1">
						<input type="checkbox" class="custom-control-input pointer" id="write_vid">
						<label class="custom-control-label pointer purple" for="write_vid">頂点</label>
					</div>
					<div class="custom-control custom-checkbox ml-2 my-1">
						<input type="checkbox" class="custom-control-input pointer" id="write_mpid">
						<label class="custom-control-label pointer purple" for="write_mpid">MP</label>
					</div>
					<div class="custom-control custom-checkbox ml-2 my-1">
						<input type="checkbox" class="custom-control-input pointer" id="write_apdiid">
						<label class="custom-control-label pointer purple" for="write_apdiid">APDI</label>
					</div>
				</div>
				<div class="form-inline ml-2">
					<label class="purple mt-1">文字サイズ :<input type="number" class="form-control ml-2 mr-2 mw-80" value="0" id="svg_fontsize">px</label>
					<div class="custom-control custom-checkbox ml-4 my-1">
						<input type="checkbox" class="custom-control-input pointer" id="auto_fontsize">
						<label class="custom-control-label pointer purple" for="auto_fontsize">自動設定</label>
					</div>
				</div>
				<input class="btn btn-outline-primary mt-3" type="button" value="SVG再描画" id="submit-preview">
			</div>
			
			<div class="purple-border purple p-3 col">
				<div class="purple bold mb-2">ファイルからSVGを描画</div>
				<div class="form-group">
					<label for="readinputapdi">input_apdiを読み込み</label>
					<input type="file" class="form-control-file" id="readinputapdi">
				</div>
				<div class="form-group">
					<label for="readinputmp">input_mpを読み込み</label>
					<input type="file" class="form-control-file" id="readinputmp">
				</div>
				<div class="form-group mt-4 pt-3 purple-border-top" id="result_droparea">
					<label for="readresult">結果データを読み込み (beta)</label>
					<input type="file" class="form-control-file" id="readresult" multiple webkitdirectory>
					<small>プロジェクトのフォルダを選択. Chrome系のブラウザでのみ動作します.</small>
				</div>
			</div>
		</div>
		<div id="save_buttons" class="hidden">
			<div class="form-inline">
				<div class="btn-group" role="group">
					<button type="button" class="btn btn-outline-primary dropdown-toggle mr-3" data-toggle="dropdown">画像ファイルを保存</button>
					<div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
						<a class="dropdown-item" href="#" id="savesvgfile">Vectorファイル(.svg)として保存</a>
						<a class="dropdown-item" href="#" id="savejpgfile">JPEGファイル(.jpg)として保存</a>
						<a class="dropdown-item" href="#" id="savepngfile">PNGファイル(.png)として保存</a>
					</div>
				</div>
				<div class="custom-control custom-checkbox">
					<input type="checkbox" class="custom-control-input pointer" id="transparent">
					<label class="custom-control-label pointer purple" for="transparent">背景を透過</label>
				</div>
			</div>
			<div class="form-group">
				<input type="range" class="form-control-range pointer mt-3" id="mpcanvas_width" value="100">
			</div>
		</div>
		<div id="MPcanvas-wrapper">
			<div id="MPcanvas"></div>
		</div>
		<div class="hidden" id="readresultsettings">
			<div class="mt-4 mb-4 row">
				<div class="p-3 mr-2 purple-border col-md-auto purple" id="filetree"></div>
				<div class="purple p-3 purple-border col">
					<div class="bold mb-2">ファイルを選択</div>
					<div id="file_select" class="mt-1"></div>
					<!--<div id="visu_config_error" class="mt-4 pt-4 purple-border-top hidden"></div>-->
					<div id="visu_config_error" class="mt-4 pt-4 purple-border-top form-inline hidden"></div>
					<div id="visualize_settings" class="mt-4 pt-3 hidden purple-border-top">
						<div class="bold mb-2">描画設定</div>
						<div class="form-inline">
							<label class="purple">表示するデータ : 
								<input type="number" class="form-control ml-2 mr-3 mw-60" value="2" id="visu_data">
							</label>
							<label class="purple">X座標データ : 
								<input type="number" class="form-control ml-2 mr-3 mw-60" value="3" id="visu_xcoord">
							</label>
							<label class="purple">Y座標データ : 
								<input type="number" class="form-control ml-2 mr-2 mw-60" value="4" id="visu_ycoord">
							</label>
							<div class="custom-control custom-checkbox ml-1 my-1">
								<input type="checkbox" class="custom-control-input pointer" id="visu_griddata">
								<label class="custom-control-label pointer purple" for="visu_griddata">格子点のデータとして描画</label>
							</div>
						</div>
						<div class="form-inline mt-1">
							<label class="purple">データの範囲 :
								<input type="text" class="form-control ml-2 mr-2 mw-80" value="0" id="legend_min">~<input type="text" class="form-control ml-2 mr-2 mw-80" value="300" id="legend_max">
							</label>
							<!--<div class="custom-control custom-checkbox ml-1 my-1">
								<input type="checkbox" class="custom-control-input pointer" id="legend_fit">
								<label class="custom-control-label pointer purple" for="legend_fit">データに合わせる</label>
							</div>-->
						</div>
						<div class="form-inline mt-1">
							<label class="purple">レジェンドの数値の文字列長さ :
								<input type="number" class="form-control ml-2 mr-2 mw-80" value="3" id="legend_len">
							</label>
							<div class="custom-control custom-checkbox ml-1 my-1">
								<input type="checkbox" class="custom-control-input pointer" id="legend_e">
								<label class="custom-control-label pointer purple" for="legend_e">指数(E)表示</label>
							</div>
						</div>
						<div class="form-inline mt-1">
							<label class="purple">レジェンドの位置 :
								<input type="number" class="form-control ml-2 mr-2 mw-80" value="500" id="legend_x">
							</label>
							<div class="custom-control custom-checkbox ml-1 my-1">
								<input type="checkbox" class="custom-control-input pointer" id="visu_white">
								<label class="custom-control-label pointer purple" for="visu_white">白カラーテーマを使用</label>
							</div>
						</div>
						<div class="mt-2">
							<input class="btn btn-outline-primary" type="button" value="適用して再描画" id="visu_submit_setting">
							<div class="invalid-feedback hidden" id="visu_submit_invalid"></div>
						</div>
						<div class="mt-3 pt-3 form-inline purple-border-top">
							<span data-id="visu_first" class="hover-purple pointer ml-1">
								<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-skip-backward-fill" viewBox="0 0 16 16">
									<path d="M.5 3.5A.5.5 0 0 0 0 4v8a.5.5 0 0 0 1 0V8.753l6.267 3.636c.54.313 1.233-.066 1.233-.697v-2.94l6.267 3.636c.54.314 1.233-.065 1.233-.696V4.308c0-.63-.693-1.01-1.233-.696L8.5 7.248v-2.94c0-.63-.692-1.01-1.233-.696L1 7.248V4a.5.5 0 0 0-.5-.5z"/>
								</svg>
							</span>
							<span data-id="visu_prev" class="hover-purple pointer ml-2">
								<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-skip-start-fill" viewBox="0 0 16 16">
									<path d="M4 4a.5.5 0 0 1 1 0v3.248l6.267-3.636c.54-.313 1.232.066 1.232.696v7.384c0 .63-.692 1.01-1.232.697L5 8.753V12a.5.5 0 0 1-1 0V4z"/>
								</svg>
							</span>
							<input type="number" class="form-control ml-2 mw-80" value="1" data-id="visu_time">
							<span data-id="visu_next" class="hover-purple pointer ml-2">
								<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-skip-end-fill" viewBox="0 0 16 16">
									<path d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0V4z"/>
								</svg>
							</span>
							<span data-id="visu_play" class="hover-purple pointer ml-2">
								<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
									<path d="M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
								</svg>
							</span>
							<span data-id="visu_pause" class="hover-purple pointer ml-2">
								<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
									<path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"/>
								</svg>
							</span>
							<div class="form-group">
								<input type="range" class="form-control-range pointer ml-4" data-id="visu_seekbar" min="0.01" max="1.00" step="0.01" value="0.01">
							</div>
						</div>
						
						<div class="form-inline purple-border-top mt-3 pt-3">
							<div class="btn-group" role="group">
								<button type="button" class="btn btn-outline-primary dropdown-toggle mr-3" data-toggle="dropdown">現在フレームを保存</button>
								<div class="dropdown-menu">
									<a class="dropdown-item" href="#" id="visu_savesvgfile">Vectorファイル(.svg)として保存</a>
									<a class="dropdown-item" href="#" id="visu_savejpgfile">JPEGファイル(.jpg)として保存</a>
									<a class="dropdown-item" href="#" id="visu_savepngfile">PNGファイル(.png)として保存</a>
								</div>
							</div>
							<div class="custom-control custom-checkbox">
								<input type="checkbox" class="custom-control-input pointer" id="visu_transparent">
								<label class="custom-control-label pointer purple" for="visu_transparent">背景を透過</label>
							</div>
						</div>
						<div class="mt-3">
							<button type="button" class="btn btn-outline-primary mr-1" id="visu_savezipfile">連番ファイルを保存
								<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" class="bi bi-circle-fill pointer" viewBox="0 0 16 16" id="rec_icon">
									<circle cx="8" cy="8" r="8" fill="#eb1e1e" />
								</svg>
								<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" class="bi bi-circle-fill pointer hidden" viewBox="0 0 16 16" id="stop_icon">
									<rect x="1" y="1" width="14" height="14" fill="#eb1e1e" />
								</svg>
							</button>
							<span id="visu_zip_comment"></span>
						</div>
						<div class="mt-3 form-inline">
							<label class="purple">再生速度(描画フレーム間隔) :
								<input type="number" class="form-control ml-2 mr-2 mw-80" value="1" id="autoplay_dt">
							</label>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div class="height-30"></div>
		
		<div>
			<div id="visualize" class="mt-3 purple-border-angular hidden"></div>
		</div>
		
		<div class="mt-4">
			<div class="purple">※バッファ要素について</div>
			<div class="row mt-2">
				<div class="col col-sm-1"><img src="buffer.png" width="100%"></div>
				<div class="col col-sm-auto purple pt-4">左図のような形のAPDI要素をバッファ(Buffer)要素として用いる.<br>バッファ要素の左右で要素幅が倍になっている.</div>
			</div>
		</div>
	</div>
	<div id="popout" class="hidden">
		<div class="form-inline p-3 purple">
			<span data-id="visu_first" class="hover-purple pointer ml-1">
				<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-skip-backward-fill" viewBox="0 0 16 16">
					<path d="M.5 3.5A.5.5 0 0 0 0 4v8a.5.5 0 0 0 1 0V8.753l6.267 3.636c.54.313 1.233-.066 1.233-.697v-2.94l6.267 3.636c.54.314 1.233-.065 1.233-.696V4.308c0-.63-.693-1.01-1.233-.696L8.5 7.248v-2.94c0-.63-.692-1.01-1.233-.696L1 7.248V4a.5.5 0 0 0-.5-.5z"/>
				</svg>
			</span>
			<span data-id="visu_prev" class="hover-purple pointer ml-2">
				<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-skip-start-fill" viewBox="0 0 16 16">
					<path d="M4 4a.5.5 0 0 1 1 0v3.248l6.267-3.636c.54-.313 1.232.066 1.232.696v7.384c0 .63-.692 1.01-1.232.697L5 8.753V12a.5.5 0 0 1-1 0V4z"/>
				</svg>
			</span>
			<input type="number" class="form-control ml-2 mw-80" value="1" data-id="visu_time">
			<span data-id="visu_next" class="hover-purple pointer ml-2">
				<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-skip-end-fill" viewBox="0 0 16 16">
					<path d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0V4z"/>
				</svg>
			</span>
			<span data-id="visu_play" class="hover-purple pointer ml-2">
				<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
					<path d="M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
				</svg>
			</span>
			<span data-id="visu_pause" class="hover-purple pointer ml-2">
				<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
					<path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"/>
				</svg>
			</span>
			<div class="form-group">
				<input type="range" class="form-control-range pointer ml-4" data-id="visu_seekbar" min="0.01" max="1.00" step="0.01" value="0.01">
			</div>
		</div>
	</div>
	
	<script src="js/jszip.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/encoding-japanese/1.0.30/encoding.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
	<script src="js/onload.js"></script>
	<script src="js/components.js"></script>
	<script src="js/utils.js"></script>
	<script src="js/mp.js"></script>
	<script src="js/apdi.js"></script>
	<script src="js/ncond.js"></script>
	<script src="js/mp_canvas.js"></script>
	<script src="js/debug.js"></script>
	<script src="js/io.js"></script>
	<script src="js/visualize.js"></script>
	<script type="text/javascript">
		$(onload)
	</script>
</body>
</html>